<!DOCTYPE html>
<html lang="es"> 
<head> 
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <title>Tienda Virtual</title> 
  <link rel="stylesheet" href="style.css" /> 
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> 
</head> 
<body> 

  <!-- Protección: verificar si está logueado -->
  <script>
    if (localStorage.getItem('isAdmin') !== 'true') {
     window.location.href = 'login/login.html';
    }
    function irASeccion(url) {
      if (url) window.location.href = url;
    }
    function logout() {
      localStorage.removeItem('isAdmin');
      window.location.href = '../index.html';
    }
  </script>

  <!-- Barra superior (lo primero que se ve) -->
  <nav class="navbar"> 
    <div class="navbar-left"> 
      <h1>Panel Admin</h1> 
    </div> 
    <div class="navbar-right">
      <select id="menuOpciones" onchange="irASeccion(this.value)"> 
        <option value="">Menú</option>
        <option value="../index.html">Principal</option> 
      </select> 
    </div> 
  </nav> 

  <!-- Contenido principal -->
  <main>
    <p>Bienvenido al panel de administración. Aquí gestionas vendedores y productos.</p>

    <!-- Formulario para agregar/modificar admin -->
    <p2>Agregar / Modificar Administrador</p2>
    <form id="formAdmin">
      <input type="text" id="nombreAdmin" placeholder="Nombre de usuario" required />
      <input type="password" id="contrasenaAdmin" placeholder="Contraseña" required />
      <button type="submit">Guardar</button>
    </form>
    <p id="mensajeAdmin"></p>

    <!-- Formulario para eliminar admin -->
    <p2>Eliminar Administrador</p2>
    <form id="formEliminarAdmin">
      <select id="adminEliminar" required></select>
      <button type="submit">Eliminar</button>
    </form>
    <p id="mensajeEliminar"></p>

    <!-- Vendedores -->
    <p2>Modificar Vendedor</p2>
    <form id="formVendedor"> 
      <input type="text" id="nombreVendedor" placeholder="Nombre del vendedor" required />
      <input type="text" id="contactoVendedor" placeholder="Contacto Telegram (@usuario o ID)" required /> 
      <input type="text" id="zonaVendedor" placeholder="Zona" required />
      <button type="submit">Agregar vendedor</button> 
    </form> 

    <form id="formEliminarVendedor"> 
      <select id="vendedorEliminar" required></select> 
      <button type="submit">Eliminar vendedor</button> 
    </form> 

    <p></p>
    <!-- Productos -->
    <p2>Agregar producto</p2> 
    <form id="formProducto"> 
      <input type="text" id="nombreProducto" placeholder="Nombre del producto" required /> 
      <input type="number" step="0.01" id="precioProducto" placeholder="Precio" required /> 
       <input type="number" id="cantidadProducto" placeholder="Cantidad existente" required /> 
      <select id="vendedorProducto" required></select> 
      <button type="submit">Agregar producto</button> 
    </form> 

    <div id="listaProductos"></div>

    <!-- Botón de logout -->
    <button onclick="logout()">Cerrar sesión</button>
  </main>

  <!-- Tu lógica principal -->
  <script src="main.js"></script>
</body> 
</html>








